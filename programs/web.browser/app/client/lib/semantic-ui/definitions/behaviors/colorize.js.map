{"version":3,"sources":["meteor://ðŸ’»app/client/lib/semantic-ui/definitions/behaviors/colorize.js"],"names":[],"mappings":"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","file":"/client/lib/semantic-ui/definitions/behaviors/colorize.js","sourcesContent":["/*\n  DO NOT MODIFY - This file has been generated and will be regenerated\n  Semantic UI v2.1.4\n*/\n/*!\n * # Semantic UI - Colorize\n * http://github.com/semantic-org/semantic-ui/\n *\n *\n * Copyright 2015 Contributors\n * Released under the MIT license\n * http://opensource.org/licenses/MIT\n *\n */\n\n;(function ( $, window, document, undefined ) {\n\n  \"use strict\";\n\n  $.fn.colorize = function(parameters) {\n    var\n      settings          = ( $.isPlainObject(parameters) )\n        ? $.extend(true, {}, $.fn.colorize.settings, parameters)\n        : $.extend({}, $.fn.colorize.settings),\n      // hoist arguments\n      moduleArguments = arguments || false\n    ;\n    $(this)\n      .each(function(instanceIndex) {\n\n        var\n          $module         = $(this),\n\n          mainCanvas      = $('<canvas />')[0],\n          imageCanvas     = $('<canvas />')[0],\n          overlayCanvas   = $('<canvas />')[0],\n\n          backgroundImage = new Image(),\n\n          // defs\n          mainContext,\n          imageContext,\n          overlayContext,\n\n          image,\n          imageName,\n\n          width,\n          height,\n\n          // shortucts\n          colors    = settings.colors,\n          paths     = settings.paths,\n          namespace = settings.namespace,\n          error     = settings.error,\n\n          // boilerplate\n          instance   = $module.data('module-' + namespace),\n          module\n        ;\n\n        module = {\n\n          checkPreconditions: function() {\n            module.debug('Checking pre-conditions');\n\n            if( !$.isPlainObject(colors) || $.isEmptyObject(colors) ) {\n              module.error(error.undefinedColors);\n              return false;\n            }\n            return true;\n          },\n\n          async: function(callback) {\n            if(settings.async) {\n              setTimeout(callback, 0);\n            }\n            else {\n              callback();\n            }\n          },\n\n          getMetadata: function() {\n            module.debug('Grabbing metadata');\n            image     = $module.data('image') || settings.image || undefined;\n            imageName = $module.data('name')  || settings.name  || instanceIndex;\n            width     = settings.width        || $module.width();\n            height    = settings.height       || $module.height();\n            if(width === 0 || height === 0) {\n              module.error(error.undefinedSize);\n            }\n          },\n\n          initialize: function() {\n            module.debug('Initializing with colors', colors);\n            if( module.checkPreconditions() ) {\n\n              module.async(function() {\n                module.getMetadata();\n                module.canvas.create();\n\n                module.draw.image(function() {\n                  module.draw.colors();\n                  module.canvas.merge();\n                });\n                $module\n                  .data('module-' + namespace, module)\n                ;\n              });\n            }\n          },\n\n          redraw: function() {\n            module.debug('Redrawing image');\n            module.async(function() {\n              module.canvas.clear();\n              module.draw.colors();\n              module.canvas.merge();\n            });\n          },\n\n          change: {\n            color: function(colorName, color) {\n              module.debug('Changing color', colorName);\n              if(colors[colorName] === undefined) {\n                module.error(error.missingColor);\n                return false;\n              }\n              colors[colorName] = color;\n              module.redraw();\n            }\n          },\n\n          canvas: {\n            create: function() {\n              module.debug('Creating canvases');\n\n              mainCanvas.width     = width;\n              mainCanvas.height    = height;\n              imageCanvas.width    = width;\n              imageCanvas.height   = height;\n              overlayCanvas.width  = width;\n              overlayCanvas.height = height;\n\n              mainContext    = mainCanvas.getContext('2d');\n              imageContext   = imageCanvas.getContext('2d');\n              overlayContext = overlayCanvas.getContext('2d');\n\n              $module\n                .append( mainCanvas )\n              ;\n              mainContext    = $module.children('canvas')[0].getContext('2d');\n            },\n            clear: function(context) {\n              module.debug('Clearing canvas');\n              overlayContext.fillStyle = '#FFFFFF';\n              overlayContext.fillRect(0, 0, width, height);\n            },\n            merge: function() {\n              if( !$.isFunction(mainContext.blendOnto) ) {\n                module.error(error.missingPlugin);\n                return;\n              }\n              mainContext.putImageData( imageContext.getImageData(0, 0, width, height), 0, 0);\n              overlayContext.blendOnto(mainContext, 'multiply');\n            }\n          },\n\n          draw: {\n\n            image: function(callback) {\n              module.debug('Drawing image');\n              callback = callback || function(){};\n              if(image) {\n                backgroundImage.src    = image;\n                backgroundImage.onload = function() {\n                  imageContext.drawImage(backgroundImage, 0, 0);\n                  callback();\n                };\n              }\n              else {\n                module.error(error.noImage);\n                callback();\n              }\n            },\n\n            colors: function() {\n              module.debug('Drawing color overlays', colors);\n              $.each(colors, function(colorName, color) {\n                settings.onDraw(overlayContext, imageName, colorName, color);\n              });\n            }\n\n          },\n\n          debug: function(message, variableName) {\n            if(settings.debug) {\n              if(variableName !== undefined) {\n                console.info(settings.name + ': ' + message, variableName);\n              }\n              else {\n                console.info(settings.name + ': ' + message);\n              }\n            }\n          },\n          error: function(errorMessage) {\n            console.warn(settings.name + ': ' + errorMessage);\n          },\n          invoke: function(methodName, context, methodArguments) {\n            var\n              method\n            ;\n            methodArguments = methodArguments || Array.prototype.slice.call( arguments, 2 );\n\n            if(typeof methodName == 'string' && instance !== undefined) {\n              methodName = methodName.split('.');\n              $.each(methodName, function(index, name) {\n                if( $.isPlainObject( instance[name] ) ) {\n                  instance = instance[name];\n                  return true;\n                }\n                else if( $.isFunction( instance[name] ) ) {\n                  method = instance[name];\n                  return true;\n                }\n                module.error(settings.error.method);\n                return false;\n              });\n            }\n            return ( $.isFunction( method ) )\n              ? method.apply(context, methodArguments)\n              : false\n            ;\n          }\n\n        };\n        if(instance !== undefined && moduleArguments) {\n          // simpler than invoke realizing to invoke itself (and losing scope due prototype.call()\n          if(moduleArguments[0] == 'invoke') {\n            moduleArguments = Array.prototype.slice.call( moduleArguments, 1 );\n          }\n          return module.invoke(moduleArguments[0], this, Array.prototype.slice.call( moduleArguments, 1 ) );\n        }\n        // initializing\n        module.initialize();\n      })\n    ;\n    return this;\n  };\n\n  $.fn.colorize.settings = {\n    name      : 'Image Colorizer',\n    debug     : true,\n    namespace : 'colorize',\n\n    onDraw    : function(overlayContext, imageName, colorName, color) {},\n\n    // whether to block execution while updating canvas\n    async     : true,\n    // object containing names and default values of color regions\n    colors    : {},\n\n    metadata: {\n      image : 'image',\n      name  : 'name'\n    },\n\n    error: {\n      noImage         : 'No tracing image specified',\n      undefinedColors : 'No default colors specified.',\n      missingColor    : 'Attempted to change color that does not exist',\n      missingPlugin   : 'Blend onto plug-in must be included',\n      undefinedHeight : 'The width or height of image canvas could not be automatically determined. Please specify a height.'\n    }\n\n  };\n\n})( jQuery, window , document );\n"]}